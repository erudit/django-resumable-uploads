{% load i18n %}

<script type="text/javascript" src="{{ STATIC_URL}}/js/moxie.js"></script>

<script type="text/javascript" src="{{ STATIC_URL}}/js/plupload.full.min.js"></script>

<script type="text/javascript" src="{{ STATIC_URL}}/js/plupload_widget.js"></script>

<link rel="stylesheet" type="text/css" href="{{ STATIC_URL}}/css/plupload.css">

<input{{ final_attrs }} style="display: none;">

<div class="upload-container">
  <table class="upload-table">
    <thead>
      <tr>
        <th colspan="2" class="heading-name">{% trans "Fichier" %}</th>
        <th class="heading-size">{% trans "Taille" %}</th>
        <th class="heading-status">{% trans "Statut" %}</th>
        <th class="heading-delete"></th>
      </tr>
    </thead>
    <tbody id="filelist">
      <tr>
        <td colspan="5">{% trans "Votre navigateur ne supporte pas les technologies Flash, Silverlight ou HTML5." %}</td>
      </tr>
      <tr class="drop">
        <td colspan="5">
          <div class="drop-icon"><span class="icon-upload icon-file"></span></div>
          <div class="drop-text">{% trans "Veuillez glisser-déposer vos fichiers de production ici." %}</div>
        </td>
      </tr>
    </tbody>
    <tfoot>
      <tr>
        <td></td>
      </tr>
      <tr>
        <td colspan="2">
          <a id="pickfiles" class="upload-action" href="javascript:;"><span class="icon-upload icon-add"></span> {% trans "Ajouter les fichiers" %}</a>
          <a id="uploadfiles" class="upload-action" href="javascript:;"><span class="icon-upload icon-upload"></span> {% trans "Téléverser" %}</a>
        </td>
        <td class="file-size">
          <strong><span id="file-size-total"></span></strong>
        </td>
      </tr>
    </tfoot>
  </table>
</div>

<pre id="console"></pre>
<hr/>

<script type="text/javascript">
var json_params = JSON.parse('{{ json_params }}');
$(function() {
  create_uploader(
    json_params
  );
});
</script>
